<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get or set priors on a confusion matrix — prior • mlearning</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="152x152" href="../apple-touch-icon-152x152.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- svPkgdown --><script src="../script.js"></script><!-- themify icon --><link rel="stylesheet" href="../themify-icons.css?nocache=123"><!--<link rel="stylesheet" href="../style.css?nocache=123">--><!-- bootstrat v4.1.1, required CSS from more recent version --><link rel="stylesheet" href="../bootstrap.more.css?nocache=123"><link href="../style.css?nocache=123" rel="stylesheet"><!-- end of addition for svPkgdown --><meta property="og:title" content="Get or set priors on a confusion matrix — prior"><meta property="og:description" content="Most metrics in supervised classifications are sensitive to the relative
proportion of the items in the different classes. When a confusion matrix is
calculated on a test set, it uses the proportions observed on that test set.
If they are representative of the proportions in the population, metrics are
not biased. When it is not the case, priors of a confusion object can be
adjusted to better reflect proportions that are supposed to be observed in
the different classes in order to get more accurate metrics."><meta name="twitter:card" content="summary"><!-- Mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <!-- preloader start -->
<div class="preloader">
  <img src="../preloader.gif" alt="loading..."></div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="external-link navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews"></a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q" placeholder="Search..." required><input type="hidden" name="sitesearch" value="https://www.sciviews.org"></div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
        <li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/SciViews/mlearning/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul><div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class="h2">mlearning <small>v1.2.1</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->

    <div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Get or set priors on a confusion matrix</h1>
      <small class="dont-index">Source: <a href="https://github.com/SciViews/mlearning/blob/HEAD/R/prior.R" class="external-link"><code>R/prior.R</code></a></small>
      <div class="d-none name"><code>prior.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Most metrics in supervised classifications are sensitive to the relative
proportion of the items in the different classes. When a confusion matrix is
calculated on a test set, it uses the proportions observed on that test set.
If they are representative of the proportions in the population, metrics are
not biased. When it is not the case, priors of a <strong>confusion</strong> object can be
adjusted to better reflect proportions that are supposed to be observed in
the different classes in order to get more accurate metrics.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for confusion</span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for confusion</span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>object</dt>
<dd><p>a <strong>confusion</strong> object (or another class if a method is
implemented)</p></dd>


<dt>...</dt>
<dd><p>further arguments passed to methods</p></dd>


<dt>value</dt>
<dd><p>a (named) vector of positive numbers of zeros of
the same length as the number of classes in the <strong>confusion</strong> object. It
can also be a single &gt;= 0 number and in this case, equal probabilities are
applied to all the classes (use 1 for relative frequencies and 100 for
relative frequencies in percent). If the value has zero length or is
<code>NULL</code>, original prior probabilities (from the test set) are used. If the
vector is named, names must correspond to existing class names in the
<strong>confusion</strong> object.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p><code>prior()</code> returns the current class frequencies associated with
the first classification tabulated in the <strong>confusion</strong> object, i.e., for
rows in the confusion matrix.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="confusion.html">confusion()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Glass"</span>, package <span class="op">=</span> <span class="st">"mlbench"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use a little bit more informative labels for Type</span></span></span>
<span class="r-in"><span><span class="va">Glass</span><span class="op">$</span><span class="va">Type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Glass"</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use learning vector quantization to classify the glass types</span></span></span>
<span class="r-in"><span><span class="co"># (using default parameters)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_lvq</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlLvq.html">ml_lvq</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">Glass</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Codebook:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Class       RI       Na         Mg        Al       Si           K</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39  Glass 1 1.521277 14.36424  4.0239650 0.2303602 72.02336  0.05438544</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  Glass 1 1.519196 12.65659  4.8674990 0.4665660 73.85181 -0.70557100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42  Glass 1 1.517072 13.05397  3.5624747 1.1790037 73.04297  0.36584618</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62  Glass 1 1.519485 13.65144  3.9084643 1.1892587 72.02706  0.17018101</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  Glass 1 1.517766 12.73950  3.5976780 1.2351181 73.12186  0.58917126</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53  Glass 1 1.512427 13.32208  3.9524905 0.4489736 73.89021 -0.41723689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   Glass 1 1.517945 13.24449  3.6731433 1.0806355 73.10465  0.51905537</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65  Glass 1 1.521897 13.29258  3.9273652 0.7334249 72.17823  0.12908872</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  Glass 2 1.517391 12.49545  3.4441722 1.0178870 73.56065  0.20786576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 Glass 2 1.527390 11.02000  0.0000000 0.7500000 73.08000  0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90  Glass 2 1.516678 12.63550  4.0566619 1.7910617 73.35970 -0.21845344</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 123 Glass 2 1.517596 13.34163  3.8999283 1.3457780 72.48911  0.51160215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 146 Glass 2 1.518161 12.94614  3.8968416 1.1444819 72.40279  0.61233719</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74  Glass 2 1.514592 14.31787  3.7701862 1.4697558 72.65758  0.01233319</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 140 Glass 2 1.516436 13.01225  3.5639963 1.5689297 73.06020  0.44685888</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111 Glass 2 1.529245 12.18383  0.0000000 1.3056921 71.14729  0.23481414</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147 Glass 3 1.516647 13.38319  4.2593376 0.9504240 72.69514  0.12440480</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 153 Glass 3 1.518183 13.64508  3.6166110 0.6917897 72.88964  0.09196932</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 168 Glass 5 1.520283 11.71126  0.8515020 2.1059832 73.20731  0.56499288</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 178 Glass 6 1.517372 14.38524  2.2219272 1.2808706 73.32370 -0.14151907</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 203 Glass 7 1.515268 14.47779 -0.1009342 2.7167221 73.54135 -0.24604345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 209 Glass 7 1.514531 14.25746 -0.6027840 3.6910000 73.68328 -1.82460000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 Glass 7 1.518406 14.80140  0.1955234 1.8482661 72.96822 -0.15294447</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Ca           Ba          Fe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 39   9.201240 -0.082865256 -0.02213713</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   8.766666  0.000000000 -0.27342900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 42   8.617063 -0.016637285  0.07246322</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 62   8.772069  0.177102475 -0.04529924</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   8.595615 -0.001611879  0.04024410</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 53   9.165447 -0.272307692 -0.14355668</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7    8.361845 -0.077109478 -0.01304638</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 65   9.642040  0.000000000  0.08271237</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99   8.930357  0.015530409  0.07132736</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 14.960000  0.000000000  0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 90   8.192072  0.000000000  0.03076215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 123  8.218452 -0.104701969  0.06487314</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 146  8.644896  0.000000000  0.27817524</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 74   8.354815 -0.925046496  0.09880781</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 140  8.164653 -0.044621318 -0.01078383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 111 14.260043  0.681301667  0.15537564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147  8.560674  0.000000000  0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 153  8.895123  0.051116040  0.08178566</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 168 11.387505  0.012140868  0.04744348</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 178  9.101822 -0.229954212 -0.05084183</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 203  8.726922  0.840061733  0.02440280</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 209  9.261000  1.530912000  0.00000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214  8.307199  1.956745508  0.02198064</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate cross-validated confusion matrix</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">glass_conf</span> <span class="op">&lt;-</span> <span class="fu"><a href="confusion.html">confusion</a></span><span class="op">(</span><span class="fu"><a href="mlearning.html">cvpredict</a></span><span class="op">(</span><span class="va">glass_lvq</span><span class="op">)</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 3   0  11   6   0   0   0    17    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1   0  58  12   0   0   0    70     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2   0  21  51   3   0   1    76     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   0   0   4   7   0   2    13     46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   0   2   1   0   2   4     9     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   0   2   3   1   0  23    29     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        0  94  77  11   2  30   214     34</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When the probabilities in each class do not match the proportions in the</span></span></span>
<span class="r-in"><span><span class="co"># training set, all these calculations are useless. Having an idea of</span></span></span>
<span class="r-in"><span><span class="co"># the real proportions (so-called, priors), one should first reweight the</span></span></span>
<span class="r-in"><span><span class="co"># confusion matrix before calculating statistics, for instance:</span></span></span>
<span class="r-in"><span><span class="va">prior1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span> <span class="co"># Glass types 1-3 are rare</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">prior1</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 2   7   0   0   0   3   0    10     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 5  31  54   0  15   0   0   100     46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 6  11   0  22  44  22   0   100     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 7  10   3   0  79   7   0   100     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 1   2   0   0   0   8   0    10     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 3   4   0   0   0   6   0    10    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)       64  58  22 139  47   0   330     48</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fscore"</span>, <span class="st">"Recall"</span>, <span class="st">"Precision"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Global statistics on reweighted data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error rate: 48.4%, F(micro-average): 0.486, F(macro-average): 0.364</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Fscore    Recall Precision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.6829404 0.5384615 0.9333842</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.6629332 0.7931034 0.5694678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.3636364 0.2222222 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.2925838 0.8285714 0.1776593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.1809270 0.6710526 0.1045589</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.0000000 0.0000000       NaN</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is very different than if glass types 1-3 are abundants!</span></span></span>
<span class="r-in"><span><span class="va">prior2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span> <span class="co"># Glass types 1-3 are abundants</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">prior2</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 2  67  28   0   4   0   1   100     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1  17  83   0   0   0   0   100     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 3  35  65   0   0   0   0   100    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   3   0   0   5   0   2    10     46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   1   2   0   0   2   4    10     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   1   1   0   0   0   8    10     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)      125 178   0  10   2  15   330     50</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fscore"</span>, <span class="st">"Recall"</span>, <span class="st">"Precision"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Global statistics on reweighted data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error rate: 49.8%, F(micro-average): 0.511, F(macro-average): 0.455</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Fscore    Recall Precision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.6287055 0.7931034 0.5207600</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.5971155 0.6710526 0.5378543</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.5958663 0.8285714 0.4652113</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.5473057 0.5384615 0.5564452</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.3636364 0.2222222 1.0000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.0000000 0.0000000       NaN</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Weight can also be used to construct a matrix of relative frequencies</span></span></span>
<span class="r-in"><span><span class="co"># In this case, all rows sum to one</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">glass_conf</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual           01     02     03     04     05     06  (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 6   0.22   0.44   0.22   0.00   0.11   0.00   1.00  78.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 7   0.00   0.79   0.07   0.00   0.10   0.03   1.00  21.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 1   0.00   0.00   0.83   0.00   0.17   0.00   1.00  17.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 3   0.00   0.00   0.65   0.00   0.35   0.00   1.00 100.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 2   0.00   0.01   0.28   0.00   0.67   0.04   1.00  33.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 5   0.00   0.15   0.00   0.00   0.31   0.54   1.00  46.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        0.22   1.40   2.04   0.00   1.72   0.61   6.00  49.00</span>
<span class="r-in"><span><span class="co"># However, it is easier to work with relative frequencies in percent</span></span></span>
<span class="r-in"><span><span class="co"># and one gets a more compact presentation</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 6  22  44  22   0  11   0   100     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 7   0  79   7   0  10   3   100     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 1   0   0  83   0  17   0   100     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 3   0   0  65   0  35   0   100    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 2   0   1  28   0  67   4   100     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 5   0  15   0   0  31  54   100     46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)       22 140 204   0 172  61   600     49</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To reset row class frequencies to original propotions, just assign NULL</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 141 true positives (error rate = 34.1%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 3   0  11   6   0   0   0    17    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1   0  58  12   0   0   0    70     17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2   0  21  51   3   0   1    76     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   0   0   4   7   0   2    13     46</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   0   2   1   0   2   4     9     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   0   2   3   1   0  23    29     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        0  94  77  11   2  30   214     34</span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><!-- footer --><!--<footer class="bg-secondary">--><div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo"><p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline"><li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul></div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links"><li>
                            <a href="http://econum.umons.ac.be" class="external-link">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/" class="external-link">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/" class="external-link">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/" class="external-link">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/" class="external-link">UMONS</a>
                        </li>

                    </ul></div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links"><li>
                            <a href="https://www.sciviews.org/software/svbox" class="external-link">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r" class="external-link">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage" class="external-link">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog" class="external-link">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about" class="external-link">About</a>
                        </li>

                    </ul></div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> © All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right"><li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="external-link font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul></div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

    </footer></div>

  

  

  </body></html>

