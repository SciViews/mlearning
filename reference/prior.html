<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get or set priors on a confusion matrix — prior • mlearning</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="152x152" href="../apple-touch-icon-152x152.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- svPkgdown --><script src="../script.js"></script><!-- themify icon --><link rel="stylesheet" href="../themify-icons.css?nocache=123"><!--<link rel="stylesheet" href="../style.css?nocache=123">--><!-- bootstrat v4.1.1, required CSS from more recent version --><link rel="stylesheet" href="../bootstrap.more.css?nocache=123"><link href="../style.css?nocache=123" rel="stylesheet"><!-- end of addition for svPkgdown --><meta property="og:title" content="Get or set priors on a confusion matrix — prior"><meta property="og:description" content="Most metrics in supervised classifications are sensitive to the relative
proportion of the items in the different classes. When a confusion matrix is
calculated on a test set, it uses the proportions observed on that test set.
If they are representative of the proportions in the population, metrics are
not biased. When it is not the case, priors of a confusion object can be
adjusted to better reflect proportions that are supposed to be observed in
the different classes in order to get more accurate metrics."><meta property="og:image" content="https://www.sciviews.org/mlearning/logo.png"><meta name="twitter:card" content="summary"><!-- Mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><!-- preloader start --><div class="preloader">
  <img src="../preloader.gif" alt="loading..."></div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="external-link navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews"></a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q" placeholder="Search..." required><input type="hidden" name="sitesearch" value="https://www.sciviews.org"></div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/mlearning.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/SciViews/mlearning/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul><div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class="h2">mlearning <small>v1.2.1</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get or set priors on a confusion matrix</h1>
    <small class="dont-index">Source: <a href="https://github.com/SciViews/mlearning/blob/main/R/prior.R" class="external-link"><code>R/prior.R</code></a></small>
    <div class="hidden name"><code>prior.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Most metrics in supervised classifications are sensitive to the relative
proportion of the items in the different classes. When a confusion matrix is
calculated on a test set, it uses the proportions observed on that test set.
If they are representative of the proportions in the population, metrics are
not biased. When it is not the case, priors of a <strong>confusion</strong> object can be
adjusted to better reflect proportions that are supposed to be observed in
the different classes in order to get more accurate metrics.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'confusion'</span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span>
<span></span>
<span><span class="co"># S3 method for class 'confusion'</span></span>
<span><span class="fu">prior</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">value</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>a <strong>confusion</strong> object (or another class if a method is
implemented)</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments passed to methods</p></dd>


<dt id="arg-value">value<a class="anchor" aria-label="anchor" href="#arg-value"></a></dt>
<dd><p>a (named) vector of positive numbers of zeros of
the same length as the number of classes in the <strong>confusion</strong> object. It
can also be a single &gt;= 0 number and in this case, equal probabilities are
applied to all the classes (use 1 for relative frequencies and 100 for
relative frequencies in percent). If the value has zero length or is
<code>NULL</code>, original prior probabilities (from the test set) are used. If the
vector is named, names must correspond to existing class names in the
<strong>confusion</strong> object.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><code>prior()</code> returns the current class frequencies associated with
the first classification tabulated in the <strong>confusion</strong> object, i.e., for
rows in the confusion matrix.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="confusion.html">confusion()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Glass"</span>, package <span class="op">=</span> <span class="st">"mlbench"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use a little bit more informative labels for Type</span></span></span>
<span class="r-in"><span><span class="va">Glass</span><span class="op">$</span><span class="va">Type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Glass"</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use learning vector quantization to classify the glass types</span></span></span>
<span class="r-in"><span><span class="co"># (using default parameters)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_lvq</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlLvq.html">ml_lvq</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">Glass</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Codebook:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Class       RI       Na         Mg        Al       Si            K</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  Glass 1 1.520758 13.37216  4.5416927 0.7631547 72.17919  0.159303804</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  Glass 1 1.521077 13.90805  4.6740598 0.5483256 72.12317  0.119285093</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  Glass 1 1.520361 14.73156  4.1689416 0.1584321 71.99793  0.027173676</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  Glass 1 1.519342 13.71187  4.1003185 1.1208254 72.08823  0.113329211</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  Glass 1 1.519219 13.20100  3.9256181 0.9442345 73.04407  0.746929851</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  Glass 1 1.516538 13.24000  3.6298811 1.1325477 72.99334  0.592057385</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  Glass 1 1.516971 12.79689  4.3727848 1.2170500 72.82608  0.340399815</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  Glass 1 1.517348 12.83780  3.6612585 1.2263541 73.17099  0.603019790</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 141 Glass 2 1.514787 13.81319  3.7019270 1.6123497 72.40667  0.243086166</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 136 Glass 2 1.520752 12.76002  3.2688734 1.1880717 72.09919  0.472077901</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  Glass 2 1.517281 12.55761  3.7911488 0.5960059 73.66494  0.451026662</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 Glass 2 1.517685 13.41550  3.8356416 1.3682491 72.42857  0.551258305</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 138 Glass 2 1.517084 12.82538  3.9638354 1.6122934 73.15281  0.038640934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  Glass 2 1.516247 12.95243  3.5336431 1.5983106 73.04709  0.553284938</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 124 Glass 2 1.513257 14.33518  3.8557239 1.8130447 72.65403 -0.001633805</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  Glass 2 1.516206 13.22447  4.0318192 1.4517749 72.90775  0.307331714</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 153 Glass 3 1.517675 13.66381  3.9363801 0.6695214 72.88635  0.082255564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 162 Glass 3 1.518499 13.64279  4.1068876 0.4822603 72.79627  0.119380279</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 167 Glass 5 1.512518 12.54293  0.5712833 3.0942316 71.50995  4.922979490</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 177 Glass 6 1.515053 14.51803  3.3391799 1.3287286 73.66541 -0.293804212</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201 Glass 7 1.512963 14.91337 -1.4369472 4.2018864 73.21524 -0.060600000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 206 Glass 7 1.517392 15.14021  0.1910860 1.8310640 73.01365  0.116902959</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 200 Glass 7 1.513645 14.89314 -0.1493134 3.2105685 73.46057 -0.194469285</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           Ca           Ba            Fe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 49  8.919681  0.000000000  0.0488727860</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 63  8.649568 -0.141349818  0.0787419809</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 51  8.827306  0.000000000 -0.1022826875</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 66  8.517304  0.228041229 -0.0380792069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 52  8.469913 -0.254111842  0.0824236980</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 36  8.349374 -0.053418554 -0.0036757431</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 45  8.343740 -0.270752467  0.2810535302</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  8.371044  0.001600812  0.0678711633</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 141 8.340808 -0.560498383  0.1227483112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 136 9.643770  0.266838197  0.2044662082</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 99  8.604083 -0.003324812  0.2395773694</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 116 8.209417 -0.056027415  0.0783642769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 138 8.179913  0.000000000 -0.0079714286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 76  8.104046 -0.029038900 -0.0077591978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 124 8.197459 -1.275885078  0.1006775148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 78  7.992000 -0.214689730  0.0018672759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 153 8.639933  0.034844423  0.0452203178</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 162 8.371591  0.237519749  0.3800315990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 167 7.213652  0.000000000 -0.0470689843</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 177 7.764608 -0.349732967 -0.1003109950</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 201 6.993418  2.059003200  0.0000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 206 7.617267  2.028716251 -0.0003270727</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 200 7.753164  1.045518117  0.0260563249</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate cross-validated confusion matrix</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">glass_conf</span> <span class="op">&lt;-</span> <span class="fu"><a href="confusion.html">confusion</a></span><span class="op">(</span><span class="fu"><a href="mlearning.html">cvpredict</a></span><span class="op">(</span><span class="va">glass_lvq</span><span class="op">)</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 3   2  13   2   0   0   0    17     88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1   2  53  15   0   0   0    70     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2   0  18  54   3   1   0    76     29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   0   2   7   3   0   1    13     77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   1   0   2   0   4   2     9     56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   0   3   3   0   1  22    29     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        5  89  83   6   6  25   214     36</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When the probabilities in each class do not match the proportions in the</span></span></span>
<span class="r-in"><span><span class="co"># training set, all these calculations are useless. Having an idea of</span></span></span>
<span class="r-in"><span><span class="co"># the real proportions (so-called, priors), one should first reweight the</span></span></span>
<span class="r-in"><span><span class="co"># confusion matrix before calculating statistics, for instance:</span></span></span>
<span class="r-in"><span><span class="va">prior1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span><span class="op">)</span> <span class="co"># Glass types 1-3 are rare</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">prior1</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 2   7   0   0   0   2   0    10     29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 5  54  23   0   8  15   0   100     77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 6  22   0  44  22   0  11   100     56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 7  10   0   3  76  10   0   100     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 1   2   0   0   0   8   0    10     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 3   1   0   0   0   8   1    10     88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)       97  23  48 106  43  13   330     52</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fscore"</span>, <span class="st">"Recall"</span>, <span class="st">"Precision"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Global statistics on reweighted data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error rate: 51.7%, F(micro-average): 0.499, F(macro-average): 0.372</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Fscore    Recall  Precision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.7373245 0.7586207 0.71719142</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.6005020 0.4444444 0.92545743</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.3738011 0.2307692 0.98318241</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.2840190 0.7571429 0.17479377</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.1330103 0.7105263 0.07337283</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.1042356 0.1176471 0.09356899</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># This is very different than if glass types 1-3 are abundants!</span></span></span>
<span class="r-in"><span><span class="va">prior2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">100</span>, <span class="fl">10</span>, <span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span> <span class="co"># Glass types 1-3 are abundants</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">prior2</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 2  71  24   0   4   1   0   100     29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1  21  76   3   0   0   0   100     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 3  12  76  12   0   0   0   100     88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   5   2   0   2   0   1    10     77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   2   0   1   0   4   2    10     56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   1   1   0   0   0   8    10     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)      113 178  16   6   6  11   330     48</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fscore"</span>, <span class="st">"Recall"</span>, <span class="st">"Precision"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Global statistics on reweighted data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error rate: 47.6%, F(micro-average): 0.548, F(macro-average): 0.498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Fscore    Recall Precision</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.7373245 0.7586207 0.7171914</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.6675143 0.7105263 0.6294125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.5519314 0.4444444 0.7279934</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.5438424 0.7571429 0.4243075</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.2839352 0.2307692 0.3689320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.2033078 0.1176471 0.7477745</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Weight can also be used to construct a matrix of relative frequencies</span></span></span>
<span class="r-in"><span><span class="co"># In this case, all rows sum to one</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">glass_conf</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual          01    02    03    04    05    06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 1  0.76  0.03  0.21  0.00  0.00  0.00  1.00  24.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 3  0.76  0.12  0.12  0.00  0.00  0.00  1.00  88.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2  0.24  0.00  0.71  0.04  0.01  0.00  1.00  29.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5  0.15  0.00  0.54  0.23  0.00  0.08  1.00  77.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6  0.00  0.11  0.22  0.00  0.44  0.22  1.00  56.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7  0.10  0.00  0.10  0.00  0.03  0.76  1.00  24.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)       2.02  0.26  1.91  0.27  0.49  1.06  6.00  50.00</span>
<span class="r-in"><span><span class="co"># However, it is easier to work with relative frequencies in percent</span></span></span>
<span class="r-in"><span><span class="co"># and one gets a more compact presentation</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fl">100</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> with initial row frequencies:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Rescaled to:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 1  76   3  21   0   0   0   100     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 3  76  12  12   0   0   0   100     88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2  24   0  71   4   1   0   100     29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5  15   0  54  23   0   8   100     77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   0  11  22   0  44  22   100     56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7  10   0  10   0   3  76   100     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)      202  26 191  27  49 106   600     50</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># To reset row class frequencies to original propotions, just assign NULL</span></span></span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span><span class="va">glass_conf</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 138 true positives (error rate = 35.5%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 3   2  13   2   0   0   0    17     88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1   2  53  15   0   0   0    70     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2   0  18  54   3   1   0    76     29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   0   2   7   3   0   1    13     77</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   1   0   2   0   4   2     9     56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   0   3   3   0   1  22    29     24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        5  89  83   6   6  25   214     36</span>
<span class="r-in"><span><span class="fu">prior</span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 Glass 2 Glass 3 Glass 5 Glass 6 Glass 7 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      70      76      17      13       9      29 </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><!-- footer --><!--<footer class="bg-secondary">--><div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo"><p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline"><li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul></div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links"><li>
                            <a href="http://econum.umons.ac.be" class="external-link">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/" class="external-link">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/" class="external-link">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/" class="external-link">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/" class="external-link">UMONS</a>
                        </li>

                    </ul></div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links"><li>
                            <a href="https://www.sciviews.org/software/svbox" class="external-link">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r" class="external-link">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage" class="external-link">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog" class="external-link">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about" class="external-link">About</a>
                        </li>

                    </ul></div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> © All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right"><li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="external-link font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul></div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

      </footer></div>






  </body></html>

