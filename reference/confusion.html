<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Construct and analyze confusion matrices — confusion • mlearning</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="152x152" href="../apple-touch-icon-152x152.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><!-- svPkgdown --><script src="../script.js"></script><!-- themify icon --><link rel="stylesheet" href="../themify-icons.css?nocache=123"><!--<link rel="stylesheet" href="../style.css?nocache=123">--><!-- bootstrat v4.1.1, required CSS from more recent version --><link rel="stylesheet" href="../bootstrap.more.css?nocache=123"><link href="../style.css?nocache=123" rel="stylesheet"><!-- end of addition for svPkgdown --><meta property="og:title" content="Construct and analyze confusion matrices — confusion"><meta property="og:description" content="Confusion matrices compare two classifications (usually one done
automatically using a machine learning algorithm versus the true
classification done by a specialist... but one can also compare two automatic
or two manual classifications against each other)."><meta property="og:image" content="https://www.sciviews.org/mlearning/logo.png"><meta name="twitter:card" content="summary"><!-- Mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js" async integrity="sha256-nlrDrBTHxJJlDDX22AS33xYI1OJHnGMDhiYMSe2U0e0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/config/TeX-AMS-MML_HTMLorMML.js" async integrity="sha256-4zys9A4hMQmtq2EUL+JRoXc0NZi8jVJMzb8onewOaSQ=" crossorigin="anonymous"></script><!-- Global site tag (gtag.js) - Google Analytics --><!--<script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><!-- preloader start --><div class="preloader">
  <img src="../preloader.gif" alt="loading..."></div>
<!-- preloader end -->

<div class="navbar navbar-default navbar-fixed-top bg-secondary" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <div class="navbar-brand-container">
       <div class="navbar-brand-logo">
         <a class="external-link navbar-brand" href="https://www.sciviews.org">
          <img src="../logo_full.png" alt="SciViews"></a>
       </div>
       <div class="navbar-brand-package">
      </div>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <!-- start svPkgdown global site search with Google -->
      <form action="https://www.google.com/search" class="navbar-form navbar-right search-form-global">
        <div class="form-group has-search">
          <span class="fa fa-search form-control-feedback-global"></span>
          <input type="text" class="form-control-global search-form-input" name="q" id="q" placeholder="Search..." required><input type="hidden" name="sitesearch" value="https://www.sciviews.org"></div>
      </form>
      <!-- end svPkgdown global site search with Google -->
      <ul class="nav navbar-nav navbar-right"><li>
  <a href="../articles/mlearning.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/SciViews/mlearning/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul><div class="navbar-title">
        <a class="navbar-brand" href="../index.html"><p class="h2">mlearning <small>v1.2.1</small></p></a>
      </div>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
  <div class="navbar-spacer bg-light">
  </div>
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Construct and analyze confusion matrices</h1>
    <small class="dont-index">Source: <a href="https://github.com/SciViews/mlearning/blob/main/R/confusion.R" class="external-link"><code>R/confusion.R</code></a></small>
    <div class="hidden name"><code>confusion.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Confusion matrices compare two classifications (usually one done
automatically using a machine learning algorithm versus the true
classification done by a specialist... but one can also compare two automatic
or two manual classifications against each other).</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">confusion</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">confusion</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Actual"</span>, <span class="st">"Predicted"</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="va">vars</span>,</span>
<span>  merge.by <span class="op">=</span> <span class="st">"Id"</span>,</span>
<span>  useNA <span class="op">=</span> <span class="st">"ifany"</span>,</span>
<span>  <span class="va">prior</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'mlearning'</span></span>
<span><span class="fu">confusion</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  y <span class="op">=</span> <span class="fu"><a href="response.html">response</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span>
<span>  labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Actual"</span>, <span class="st">"Predicted"</span><span class="op">)</span>,</span>
<span>  useNA <span class="op">=</span> <span class="st">"ifany"</span>,</span>
<span>  <span class="va">prior</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'confusion'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, sums <span class="op">=</span> <span class="cn">TRUE</span>, error.col <span class="op">=</span> <span class="va">sums</span>, digits <span class="op">=</span> <span class="fl">0</span>, sort <span class="op">=</span> <span class="st">"ward.D2"</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'confusion'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, type <span class="op">=</span> <span class="st">"all"</span>, sort.by <span class="op">=</span> <span class="st">"Fscore"</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'summary.confusion'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>an object with a <code>confusion()</code> method implemented.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>further arguments passed to the method.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>another object, from which to extract the second classification, or
<code>NULL</code> if not used.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>the variables of interest in the first and second classification
in the case the objects are lists or data frames. Otherwise, this argument
is ignored and <code>x</code> and <code>y</code> must be factors with same length and same levels.</p></dd>


<dt id="arg-labels">labels<a class="anchor" aria-label="anchor" href="#arg-labels"></a></dt>
<dd><p>labels to use for the two classifications. By default, they are
the same as <code>vars</code>, or the one in the confusion matrix.</p></dd>


<dt id="arg-merge-by">merge.by<a class="anchor" aria-label="anchor" href="#arg-merge-by"></a></dt>
<dd><p>a character string with the name of variables to use to merge
the two data frames, or <code>NULL</code>.</p></dd>


<dt id="arg-usena">useNA<a class="anchor" aria-label="anchor" href="#arg-usena"></a></dt>
<dd><p>do we keep <code>NA</code>s as a separate category? The default <code>"ifany"</code>
creates this category only if there are missing values. Other possibilities
are <code>"no"</code>, or <code>"always"</code>.</p></dd>


<dt id="arg-prior">prior<a class="anchor" aria-label="anchor" href="#arg-prior"></a></dt>
<dd><p>class frequencies to use for first classifier that is tabulated
in the rows of the confusion matrix. For its value, see here under, the
<code>value=</code> argument.</p></dd>


<dt id="arg-sums">sums<a class="anchor" aria-label="anchor" href="#arg-sums"></a></dt>
<dd><p>is the confusion matrix printed with rows and columns sums?</p></dd>


<dt id="arg-error-col">error.col<a class="anchor" aria-label="anchor" href="#arg-error-col"></a></dt>
<dd><p>is a column with class error for first classifier added
(equivalent to false negative rate of FNR)?</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>the number of digits after the decimal point to print in the
confusion matrix. The default or zero leads to most compact presentation
and is suitable for frequencies, but not for relative frequencies.</p></dd>


<dt id="arg-sort">sort<a class="anchor" aria-label="anchor" href="#arg-sort"></a></dt>
<dd><p>are rows and columns of the confusion matrix sorted so that
classes with larger confusion are closer together? Sorting is done
using a hierarchical clustering with <code><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust()</a></code>. The clustering method
is <code>"ward.D2"</code> by default, but see the <code><a href="https://rdrr.io/r/stats/hclust.html" class="external-link">hclust()</a></code> help for other options).
If <code>FALSE</code> or <code>NULL</code>, no sorting is done.</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>a <strong>confusion</strong> object</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>either <code>"all"</code> (by default), or considering <code>TP</code> is the true
positives, <code>FP</code> is the false positives, <code>TN</code> is the true negatives and <code>FN</code>
is the false negatives, one can also specify: <code>"Fscore"</code> (F-score = F-measure
= F1 score = harmonic mean of Precision and recall), <code>"Recall"</code>
(TP / (TP + FN) = 1 - FNR), <code>"Precision"</code> (TP / (TP + FP) = 1 - FDR),
<code>"Specificity"</code> (TN / (TN + FP) = 1 - FPR), <code>"NPV"</code> (Negative predicted value
= TN / (TN + FN) = 1 - FOR), <code>"FPR"</code> (False positive rate = 1 - Specificity
= FP / (FP + TN)), <code>"FNR"</code> (False negative rate = 1 - Recall = FN / (TP + FN)),
<code>"FDR"</code> (False Discovery Rate = 1 - Precision = FP / (TP + FP)), <code>"FOR"</code>
(False omission rate = 1 - NPV = FN / (FN + TN)), <code>"LRPT"</code> (Likelihood Ratio
for Positive Tests = Recall / FPR = Recall / (1 - Specificity)), <code>"LRNT"</code>
Likelihood Ratio for Negative Tests = FNR / Specificity = (1 - Recall) /
Specificity, <code>"LRPS"</code> (Likelihood Ratio for Positive Subjects = Precision /
FOR = Precision / (1 - NPV)), <code>"LRNS"</code> (Likelihood Ratio Negative Subjects =
FDR / NPV = (1 - Precision) / (1 - FOR)), <code>"BalAcc"</code> (Balanced accuracy
= (Sensitivity + Specificity) / 2), <code>"MCC"</code> (Matthews correlation coefficient),
<code>"Chisq"</code> (Chisq metric), or <code>"Bray"</code> (Bray-Curtis metric)</p></dd>


<dt id="arg-sort-by">sort.by<a class="anchor" aria-label="anchor" href="#arg-sort-by"></a></dt>
<dd><p>the statistics to use to sort the table (by default, Fmeasure,
the F1 score for each class = 2 * recall * precision / (recall + precision)).</p></dd>


<dt id="arg-decreasing">decreasing<a class="anchor" aria-label="anchor" href="#arg-decreasing"></a></dt>
<dd><p>do we sort in increasing or decreasing order?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A confusion matrix in a <strong>confusion</strong> object.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="mlearning.html">mlearning()</a></code>, <code><a href="plot.confusion.html">plot.confusion()</a></code>, <code><a href="prior.html">prior()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"Glass"</span>, package <span class="op">=</span> <span class="st">"mlbench"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Use a little bit more informative labels for Type</span></span></span>
<span class="r-in"><span><span class="va">Glass</span><span class="op">$</span><span class="va">Type</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Glass"</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Use learning vector quantization to classify the glass types</span></span></span>
<span class="r-in"><span><span class="co"># (using default parameters)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_lvq</span> <span class="op">&lt;-</span> <span class="fu"><a href="mlLvq.html">ml_lvq</a></span><span class="op">(</span><span class="va">Type</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">Glass</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Codebook:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Class       RI       Na          Mg        Al       Si           K</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67  Glass 1 1.522534 13.44932  3.85934116 0.6953009 72.09108  0.10287143</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26  Glass 1 1.517912 13.21384  2.96679081 1.0638540 73.09418  0.62446576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32  Glass 1 1.517500 12.79125  3.47000000 1.1625000 73.24375  0.57125000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40  Glass 1 1.519683 13.85617  3.98298320 0.8829080 72.11581  0.14612747</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38  Glass 1 1.517241 12.86400  3.56730134 1.3253184 73.03930  0.59471469</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17  Glass 1 1.517953 12.75584  3.53146094 1.2048663 73.12350  0.61831472</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33  Glass 1 1.516813 13.18249  3.58824194 1.0941608 73.28127  0.54218127</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16  Glass 1 1.517770 12.73773  3.56135984 1.2938022 73.27586  0.57345520</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 Glass 2 1.529182 10.95909  0.00000000 2.0300000 70.56727  0.65318182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81  Glass 2 1.517303 12.61100  3.61600000 2.2130000 72.61500  0.36900000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80  Glass 2 1.516683 12.95661  3.59952510 1.5609646 73.12454  0.49140132</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93  Glass 2 1.515893 13.06412  3.50044677 1.5688908 73.22450  0.09132098</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 144 Glass 2 1.518029 12.81731  4.15906227 1.6511718 73.19652 -0.33283271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 Glass 2 1.527990 12.10090  0.00000000 0.9076119 72.09761  0.06940299</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88  Glass 2 1.517411 13.54454  3.91205511 1.3385817 72.50985  0.42145765</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101 Glass 2 1.516747 12.58148  3.37065852 1.4143369 73.20617  0.22938759</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 162 Glass 3 1.518527 13.63163  3.59082381 0.5562626 72.94373  0.07840846</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147 Glass 3 1.512463 13.84826  3.91879200 1.0309080 73.18266 -0.24886900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 169 Glass 5 1.520131 12.17186  0.42508693 2.1032884 72.81830  0.56922866</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 179 Glass 6 1.516730 14.30190  2.60431263 1.3851871 73.37313 -0.26252576</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 203 Glass 7 1.515683 14.68643 -0.02875463 2.4980121 73.35808 -0.08289203</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 207 Glass 7 1.518196 14.75666  0.19283012 1.8902363 72.92972 -0.09195050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 199 Glass 7 1.516146 14.60523  0.00000000 2.6535385 73.52369 -1.36907692</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Ca           Ba           Fe</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 67   9.689596  0.000000000  0.091117034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26   9.242871 -0.145801911 -0.062689222</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 32   8.583750  0.000000000  0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 40   8.850008  0.007656739 -0.059842505</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 38   8.487545 -0.004122066  0.052989584</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17   8.722567  0.000000000  0.038085891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 33   8.184611  0.011694440  0.023366137</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16   8.460135  0.000000000  0.037584925</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 106 13.280909  2.147727273  0.299090909</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 81   8.732000 -0.357000000  0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 80   8.101031 -0.054141050 -0.023075504</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 93   8.378534  0.000000000  0.166839013</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 144  8.334913  0.000000000  0.027098964</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 112 14.659552  0.000000000  0.054626866</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 88   8.211648 -0.234078018  0.112684840</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 101  8.806406  0.047887045  0.085070197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 162  8.934824  0.111940999  0.179105599</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 147  8.256887  0.000000000  0.000000000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 169 11.751128  0.010675921  0.005961232</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 179  8.815785 -0.225619224 -0.063273952</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 203  8.850959  0.648165274  0.013643891</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 207  8.476473  1.782818874  0.010110012</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 199  9.606154  0.942769231  0.000000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate cross-validated confusion matrix</span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">glass_conf</span> <span class="op">&lt;-</span> <span class="fu">confusion</span><span class="op">(</span><span class="fu"><a href="mlearning.html">cvpredict</a></span><span class="op">(</span><span class="va">glass_lvq</span><span class="op">)</span>, <span class="va">Glass</span><span class="op">$</span><span class="va">Type</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 136 true positives (error rate = 36.4%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual        01  02  03  04  05  06 (sum) (FNR%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 3   0  11   6   0   0   0    17    100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 1   3  55  12   0   0   0    70     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 2   0  22  51   1   2   0    76     33</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5   0   1   6   5   0   1    13     62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6   0   1   2   2   2   2     9     78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7   0   0   4   1   1  23    29     21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (sum)        3  90  81   9   5  26   214     36</span>
<span class="r-in"><span><span class="co"># Raw confusion matrix: no sort and no margins</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">glass_conf</span>, sums <span class="op">=</span> <span class="cn">FALSE</span>, sort <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 136 true positives (error rate = 36.4%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             Predicted</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Actual       01 02 03 04 05 06</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   01 Glass 1 55 12  3  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   02 Glass 2 22 51  0  1  2  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   03 Glass 3 11  6  0  0  0  0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   04 Glass 5  1  6  0  5  0  1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   05 Glass 6  1  2  0  2  2  2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   06 Glass 7  0  4  0  1  1 23</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 214 items classified with 136 true positives (error = 36.4%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Global statistics on reweighted data:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Error rate: 36.4%, F(micro-average): 0.494, F(macro-average): 0.486</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            Fscore    Recall Precision Specificity       NPV        FPR</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.8363636 0.7931034 0.8846154   0.9837838 0.9680851 0.01621622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.6875000 0.7857143 0.6111111   0.7569444 0.8790323 0.24305556</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.6496815 0.6710526 0.6296296   0.7826087 0.8120301 0.21739130</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.4545455 0.3846154 0.5555556   0.9800995 0.9609756 0.01990050</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.2857143 0.2222222 0.4000000   0.9853659 0.9665072 0.01463415</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.0000000 0.0000000 0.0000000   0.9847716 0.9194313 0.01522843</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               FNR       FDR        FOR      LRPT      LRNT      LRPS      LRNS</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.2068966 0.1153846 0.03191489 48.908046 0.2103069 27.717949 0.1191885</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.2142857 0.3888889 0.12096774  3.232653 0.2830931  5.051852 0.4424057</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.3289474 0.3703704 0.18796992  3.086842 0.4203216  3.349630 0.4561043</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.6153846 0.4444444 0.03902439 19.326923 0.6278797 14.236111 0.4624929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.7777778 0.6000000 0.03349282 15.185185 0.7893289 11.942857 0.6207921</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 1.0000000 1.0000000 0.08056872  0.000000 1.0154639  0.000000 1.0876289</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            BalAcc         MCC       Chisq        Bray Auto Manu A_M TP FP FN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 0.8884436  0.81391162 141.7647546 0.007009346   26   29  -3 23  3  6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 0.7713294  0.51573305  56.9198438 0.046728972   90   70  20 55 35 15</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 0.7268307  0.44762029  42.8778806 0.011682243   81   76   5 51 30 25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 0.6823574  0.43403526  40.3147336 0.009345794    9   13  -4  5  4  8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 0.6037940  0.27583060  16.2816592 0.009345794    5    9  -4  2  3  7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 0.4923858 -0.03502763   0.2625641 0.032710280    3   17 -14  0  3 17</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          TN</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 7 182</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 1 109</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 2 108</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 5 197</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 6 202</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Glass 3 194</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">glass_conf</span>, type <span class="op">=</span> <span class="st">"Fscore"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Glass 7   Glass 1   Glass 2   Glass 5   Glass 6   Glass 3 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.8363636 0.6875000 0.6496815 0.4545455 0.2857143 0.0000000 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"stat.type")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Fscore"</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><!-- footer --><!--<footer class="bg-secondary">--><div class="bg-secondary full-width">
    <div class="py-100 border-bottom" style="border-color: #454547 !important">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4">
                    <div class="mb-5 mb-md-0 text-center text-md-left">
                        <!-- logo -->
                        <img class="mb-30" src="https://www.sciviews.org/images/logo-footer.png" alt="logo"><p class="text-white mb-30"> We build software for reproducible research with R</p>
                        <!-- social icon -->
                        <ul class="list-inline"><li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://github.com/SciViews">
                                    <i class="ti-github"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://twitter.com/PhilGrosjean">
                                    <i class="ti-twitter-alt"></i>
                                </a>
                            </li>

                            <li class="list-inline-item">
                                <a class="external-link social-icon-outline" href="https://www.linkedin.com/in/philippe-grosjean-5b6b29a2/">
                                    <i class="ti-linkedin"></i>
                                </a>
                            </li>

                        </ul></div>
                </div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Related</p>
                    <ul class="footer-links"><li>
                            <a href="http://econum.umons.ac.be" class="external-link">Our Lab</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/fs/en/" class="external-link">Our Faculty</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/complexys/en/" class="external-link">Complexys</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/infortech/en/" class="external-link">InforTech</a>
                        </li>

                        <li>
                            <a href="https://web.umons.ac.be/en/" class="external-link">UMONS</a>
                        </li>

                    </ul></div>
                <!-- footer links -->
                <div class="col-lg-2 col-md-4 col-6">
                    <p class="h4 text-white mb-4">Quick Link</p>
                    <ul class="footer-links"><li>
                            <a href="https://www.sciviews.org/software/svbox" class="external-link">SciViews Box</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/sciviews-r" class="external-link">SciViews::R</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/software/zooimage" class="external-link">Zoo/PhytoImage</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/blog" class="external-link">Blog</a>
                        </li>

                        <li>
                            <a href="https://www.sciviews.org/about" class="external-link">About</a>
                        </li>

                    </ul></div>
                <!-- subscribe form -->
                <div class="col-lg-3 col-md-12 offset-lg-1">
                    <div class="mt-5 mt-lg-0 text-center text-md-left">
                             <p class="h4 mb-4 text-white">Contact Us</p>
                             <p class="text-white mb-4">Need more info?<br><a href="mailto:info@sciviews.org"><span class="text-primary">Leave us a mail...</span></a></p>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- copyright -->
    <div class="pt-4 pb-3 position-relative">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-5">
                    <p class="text-white text-center text-md-left">
                        <span class="text-primary">SciViews</span> © All Right Reserved</p>
                </div>
                <div class="col-lg-6 col-md-7">
                    <ul class="list-inline text-center text-md-right"><li class="list-inline-item mx-lg-3 my-lg-0 mx-2 my-2">
                            <a class="external-link font-secondary text-white" href="https://creativecommons.org/licenses/by/4.0/">Site content under CC-BY 4.0 license</a>
                        </li>

                    </ul></div>
            </div>
        </div>
        <!-- back to top -->
        <!--<button class="back-to-top">
            <i class="ti-angle-up"></i>
        </button>-->
    </div>
</div>
<!--</footer>-->
<!-- /footer -->

      </footer></div>






  </body></html>

